@page "/concepts"
@using Imi.Project.Blazor.Models
<h2>Concepts - 4 op een rij</h2>


@code {
    PlayField playField = new PlayField();
}

@if (playField.WinningPlayer == null)
{
    <h3>@playField.CurrentTurn's Turn!</h3>

}
else
{
    <h3>@playField.WinningPlayer.WinningColor Wins! <button class="btn btn-success" @onclick="@(() => playField.Reset())">Reset</button></h3>
}

<div class="connectfour-board">
    @for (int i = 0; i < 7; i++)
    {
        <div class="connectfour-column">
            @for (int j = 0; j < 6; j++)
            {
                int x = i;
                int y = j;
                var color = playField.Board[i, j].Color;
                if (color == DiscColor.Blank)
                {
                    <div class="connectfour-gamepiece
                         connectfour-blank" @onclick="@(() => playField.PieceClicked(x, y))"></div>
                }
                else
                {
                    <div class="connectfour-gamepiece
                         connectfour-@color.ToString().ToLower()"
                         style="@(playField.IsPlayDiscAWinningPiece(i, j) ? "opacity: 0.6" : "")"></div>
                }
            }
        </div>
    }
</div>

<hr />